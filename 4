#include <stdio.h>
#include <ctype.h>
char s[50], infix[50], post[50], ch;
int t = -1, i = 0, k = 0;
void push(char x) { s[++t] = x; }
char pop() { return s[t--]; }
int pr(char x) {
    if (x == '^') return 4;
    if (x == '*' || x == '/' || x == '%') return 3;
    if (x == '+' || x == '-') return 2;
    if (x == '(') return 1;
    return 0;
}
int main() {
    printf("Infix: "); scanf("%s", infix);
    push('#');
    while ((ch = infix[i++])) {
        if (ch == '(') push(ch);
        else if (isalnum(ch)) post[k++] = ch;
        else if (ch == ')') {
            while (s[t] != '(') post[k++] = pop();
            pop(); 
        } else {
            while (pr(s[t]) >= pr(ch)) post[k++] = pop();
            push(ch);
        }
    }
    while (s[t] != '#') post[k++] = pop();
    post[k] = '\0';
    printf("Postfix: %s\n", post);
    return 0;
}
