#include <stdio.h>
#include <stdlib.h>
int n, a[10][10], v[10];
void bfs(int s) {
    int q[10], f = 0, r = 0, i;
    for (i = 0; i < n; v[i++] = 0);
    v[s] = 1, q[r++] = s;
    while (f < r) {
        int u = q[f++];
        for (i = 0; i < n; i++)
            if (a[u][i] && !v[i]) v[i] = 1, q[r++] = i;
    }
}
void dfs(int s) {
    v[s] = 1;
    for (int i = 0; i < n; i++)
        if (a[s][i] && !v[i]) dfs(i);
}
int main() {
    int i, j, s, ch, c;
    printf("Nodes: "); scanf("%d", &n);
    printf("Matrix:\n");
    for (i = 0; i < n; i++) for (j = 0; j < n; j++) scanf("%d", &a[i][j]);
    while (printf("\n1.BFS 2.DFS 3.Exit: ") && scanf("%d", &ch) && ch < 3) {
        for (i = 0; i < n; v[i++] = 0);
        if (ch == 1) {
            printf("Source: "); scanf("%d", &s); bfs(s);
            for (i = 0; i < n; i++) printf("%d:%s ", i, v[i] ? "Reachable" : "Notreachable");
        } else {
            dfs(0);
            for (i = 0, c = 0; i < n; i++) c += v[i];
            printf(c == n ? "Grapg Connected" : "Graph Not Connected");
        }
    }
}
